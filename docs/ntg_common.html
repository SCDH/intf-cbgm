

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Common Functions &mdash; NTG 0.1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ntg.uni-muenster.de" href="vm.html" />
    <link rel="prev" title="Database FAQ" href="database_faq.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> NTG
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#links">Links</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install-linux.html">Installation on Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#install-prerequisites">Install Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#database-access">Database Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#application-server">Application server</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#cbgm">CBGM</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#run-server">Run Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-linux.html#build-and-run-client">Build and run client</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install-docker.html">Installation with Docker</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install-docker.html#install">Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-docker.html#running-the-web-application">Running the web application</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-docker.html#running-the-cbgm">Running the CBGM</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-docker.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user.html">User Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="client_user.html">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_user.html">Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="server_user.html#server-main-py">server/__main__.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scripts_user.html">Scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-import-py">scripts/cceh/import.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-prepare-py">scripts/cceh/prepare.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-cbgm-py">scripts/cceh/cbgm.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-save-edits-py">scripts/cceh/save_edits.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-load-edits-py">scripts/cceh/load_edits.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_user.html#scripts-cceh-mk-users-py">scripts/cceh/mk_users.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="developer.html">Developer Manual</a><ul class="current">
<ul>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="client_dev.html">Web Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="client_dev.html#module-client-app">Modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="server_dev.html">API Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server">server</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.main">server.main</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.textflow">server.textflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.comparison">server.comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.set_cover">server.set_cover</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.editor">server.editor</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.login">server.login</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_dev.html#module-server.helpers">server.helpers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="server_config.html">API Server Configuration Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="server_config.html#per-application-configuration-files">Per-Application Configuration Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_config.html#global-configuration-file">Global Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_config.html#footnotes">Footnotes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scripts_dev.html">Scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.import">scripts.cceh.import</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.prepare">scripts.cceh.prepare</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.cbgm">scripts.cceh.cbgm</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.save_edits">scripts.cceh.save_edits</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.load_edits">scripts.cceh.load_edits</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts_dev.html#module-scripts.cceh.mk_users">scripts.cceh.mk_users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database.html">Database Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="database.html#cbgm-database">CBGM Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#source-databases">Source Databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#literature">Literature</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database_faq.html">Database FAQ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="database_faq.html#manual-editing-of-journalled-tables">Manual Editing of Journalled Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="database_faq.html#apparatus-updates">Apparatus Updates</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Common Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-ntg_common.cbgm_common">ntg_common.cbgm_common</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ntg_common.config">ntg_common.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ntg_common.db_tools">ntg_common.db_tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ntg_common.exceptions">ntg_common.exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-ntg_common.tools">ntg_common.tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vm.html">ntg.uni-muenster.de</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vm.html#apache">Apache</a></li>
<li class="toctree-l3"><a class="reference internal" href="vm.html#api-server">API Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="vm.html#postgres">Postgres</a></li>
<li class="toctree-l3"><a class="reference internal" href="vm.html#users">Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="vm.html#backups">Backups</a></li>
<li class="toctree-l3"><a class="reference internal" href="vm.html#icinga">Icinga</a></li>
<li class="toctree-l3"><a class="reference internal" href="vm.html#openstack-cloud">OpenStack Cloud</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cbgm.html">CBGM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cbgm.html#preparing-the-database-for-the-cbgm">Preparing the Database for the CBGM</a></li>
<li class="toctree-l3"><a class="reference internal" href="cbgm.html#applying-the-cbgm">Applying the CBGM</a></li>
<li class="toctree-l3"><a class="reference internal" href="cbgm.html#starting-a-new-project">Starting a New Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="cbgm.html#starting-a-new-phase">Starting a New Phase</a></li>
<li class="toctree-l3"><a class="reference internal" href="cbgm.html#starting-a-new-phase-with-apparatus-update">Starting a New Phase With Apparatus Update</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user_management.html">User Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user_management.html#manual-user-management">Manual User Management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="technologies.html">Technologies Used</a><ul>
<li class="toctree-l3"><a class="reference internal" href="technologies.html#server">Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="technologies.html#client">Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="technologies.html#scripts">Scripts</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NTG</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="developer.html">Developer Manual</a> &raquo;</li>
        
      <li>Common Functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/ntg_common.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-ntg_common"></span><div class="section" id="common-functions">
<h1>Common Functions<a class="headerlink" href="#common-functions" title="Permalink to this headline">¶</a></h1>
<p>Here are the functions used by the server and the commandline scripts.</p>
<div class="section" id="module-ntg_common.cbgm_common">
<span id="ntg-common-cbgm-common"></span><h2>ntg_common.cbgm_common<a class="headerlink" href="#module-ntg_common.cbgm_common" title="Permalink to this headline">¶</a></h2>
<p>Common routines for the CBGM.</p>
<dl class="py class">
<dt id="ntg_common.cbgm_common.CBGM_Params">
<em class="property">class </em><code class="sig-name descname">CBGM_Params</code><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params" title="Permalink to this definition">¶</a></dt>
<dd><p>Structure that holds intermediate results of the CBGM.</p>
<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.ancestor_matrix">
<code class="sig-name descname">ancestor_matrix</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.ancestor_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer matrix (ranges x mss x mss) with counts of the passages that are
older in ms1 than in ms2.  This matrix is asymmetrical.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.and_matrix">
<code class="sig-name descname">and_matrix</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.and_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer matrix (ranges x mss x mss) with counts of the passages that are
defined in both mss.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.def_matrix">
<code class="sig-name descname">def_matrix</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.def_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean matrix (mss x passages) set if ms. is defined at passage.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.eq_matrix">
<code class="sig-name descname">eq_matrix</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.eq_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer matrix (ranges x mss x mss) with counts of the passages that are
equal in both mss.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.labez_matrix">
<code class="sig-name descname">labez_matrix</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.labez_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer matrix (mss x passages) of labez.  Each entry represents one reading:
0 = lacuna, 1 = ‘a’, 2 = ‘b’, …  Used by the pre-coherence computations.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.n_mss">
<code class="sig-name descname">n_mss</code><em class="property"> = 0</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.n_mss" title="Permalink to this definition">¶</a></dt>
<dd><p>No. of manuscripts</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.n_passages">
<code class="sig-name descname">n_passages</code><em class="property"> = 0</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.n_passages" title="Permalink to this definition">¶</a></dt>
<dd><p>No. of passages</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.n_ranges">
<code class="sig-name descname">n_ranges</code><em class="property"> = 0</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.n_ranges" title="Permalink to this definition">¶</a></dt>
<dd><p>No. of ranges</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.parent_matrix">
<code class="sig-name descname">parent_matrix</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.parent_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer matrix (ranges x mss x mss) with counts of the passages that are
older in ms1 than in ms2, using only immediate descendence.  This matrix is
asymmetrical.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.ranges">
<code class="sig-name descname">ranges</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.ranges" title="Permalink to this definition">¶</a></dt>
<dd><p>list of (named tuple Range)</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.unclear_ancestor_matrix">
<code class="sig-name descname">unclear_ancestor_matrix</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.unclear_ancestor_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer matrix (ranges x mss x mss) with counts of the passages whose
relationship is unclear in ms1 and ms2.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.unclear_parent_matrix">
<code class="sig-name descname">unclear_parent_matrix</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.unclear_parent_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer matrix (ranges x mss x mss) with counts of the passages whose
relationship is unclear in ms1 and ms2, using only immediate descendence.</p>
</dd></dl>

<dl class="py attribute">
<dt id="ntg_common.cbgm_common.CBGM_Params.variant_matrix">
<code class="sig-name descname">variant_matrix</code><em class="property"> = None</em><a class="headerlink" href="#ntg_common.cbgm_common.CBGM_Params.variant_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean (1 x passages) matrix of invariant passages.  We will need this the
day we decide <em>not</em> to eliminate all invariant readings from the
database.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ntg_common.cbgm_common.calculate_mss_similarity_postco">
<code class="sig-name descname">calculate_mss_similarity_postco</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dba</span></em>, <em class="sig-param"><span class="n">parameters</span></em>, <em class="sig-param"><span class="n">val</span></em>, <em class="sig-param"><span class="n">do_checks</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.cbgm_common.calculate_mss_similarity_postco" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate post-coherence mss similarity</p>
<p>Genealogical coherence outputs asymmetrical matrices.
Loop over all mss O(n_mss² * n_ranges * n_passages).</p>
<p>The main idea in this function is to get the DAG (directed acyclic graph)
into a representation that can be used by numpy.  Numpy gives us a
tremendous speed boost.</p>
<p>For every passage and every reading we build</p>
<ul class="simple">
<li><p>a bitmask for the reading and</p></li>
<li><p>a bitmask for all prior readings of this reading.</p></li>
</ul>
<p>Then for every passage and every manuscript we look up what the manuscript
offers and store the relative bitmasks in 2 matrices.</p>
<p>For illustration we refer to this passage (pass_id == 3240):</p>
<div align="center" class="pic align-center pic-format-text-xml pic-language-dot">


<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="542pt" height="234pt"
 viewBox="0.00 0.00 542.00 234.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 230)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-230 538,-230 538,4 -4,4"/>
<!-- * -->
<g id="node1" class="node">
<title>*</title>
<ellipse fill="none" stroke="black" cx="161" cy="-215" rx="11" ry="11"/>
<text text-anchor="middle" x="161" y="-211.3" font-family="Times,serif" font-size="14.00">*</text>
</g>
<!-- a -->
<g id="node2" class="node">
<title>a</title>
<ellipse fill="none" stroke="black" cx="161" cy="-164" rx="11" ry="11"/>
<text text-anchor="middle" x="161" y="-160.3" font-family="Times,serif" font-size="14.00">a</text>
</g>
<!-- *&#45;&gt;a -->
<g id="edge1" class="edge">
<title>*&#45;&gt;a</title>
<path fill="none" stroke="black" d="M161,-203.61C161,-198.21 161,-191.42 161,-185.05"/>
<polygon fill="black" stroke="black" points="164.5,-185.04 161,-175.04 157.5,-185.04 164.5,-185.04"/>
</g>
<!-- b -->
<g id="node13" class="node">
<title>b</title>
<ellipse fill="none" stroke="black" cx="125" cy="-113" rx="11" ry="11"/>
<text text-anchor="middle" x="125" y="-109.3" font-family="Times,serif" font-size="14.00">b</text>
</g>
<!-- a&#45;&gt;b -->
<g id="edge11" class="edge">
<title>a&#45;&gt;b</title>
<path fill="none" stroke="black" d="M154.73,-154.46C149.93,-147.93 143.16,-138.71 137.29,-130.72"/>
<polygon fill="black" stroke="black" points="139.94,-128.42 131.2,-122.44 134.3,-132.57 139.94,-128.42"/>
</g>
<!-- i -->
<g id="node14" class="node">
<title>i</title>
<ellipse fill="none" stroke="black" cx="161" cy="-113" rx="11" ry="11"/>
<text text-anchor="middle" x="161" y="-109.3" font-family="Times,serif" font-size="14.00">i</text>
</g>
<!-- a&#45;&gt;i -->
<g id="edge12" class="edge">
<title>a&#45;&gt;i</title>
<path fill="none" stroke="black" d="M161,-152.61C161,-147.21 161,-140.42 161,-134.05"/>
<polygon fill="black" stroke="black" points="164.5,-134.04 161,-124.04 157.5,-134.04 164.5,-134.04"/>
</g>
<!-- m -->
<g id="node15" class="node">
<title>m</title>
<ellipse fill="none" stroke="black" cx="197" cy="-113" rx="11" ry="11"/>
<text text-anchor="middle" x="197" y="-109.3" font-family="Times,serif" font-size="14.00">m</text>
</g>
<!-- a&#45;&gt;m -->
<g id="edge13" class="edge">
<title>a&#45;&gt;m</title>
<path fill="none" stroke="black" d="M167.27,-154.46C172.07,-147.93 178.84,-138.71 184.71,-130.72"/>
<polygon fill="black" stroke="black" points="187.7,-132.57 190.8,-122.44 182.06,-128.42 187.7,-132.57"/>
</g>
<!-- ? -->
<g id="node3" class="node">
<title>?</title>
<ellipse fill="none" stroke="black" cx="379" cy="-215" rx="11" ry="11"/>
<text text-anchor="middle" x="379" y="-211.3" font-family="Times,serif" font-size="14.00">?</text>
</g>
<!-- a2 -->
<g id="node4" class="node">
<title>a2</title>
<ellipse fill="none" stroke="black" cx="233" cy="-164" rx="12.5" ry="11"/>
<text text-anchor="middle" x="233" y="-160.3" font-family="Times,serif" font-size="14.00">a2</text>
</g>
<!-- ?&#45;&gt;a2 -->
<g id="edge2" class="edge">
<title>?&#45;&gt;a2</title>
<path fill="none" stroke="black" d="M368.34,-211.33C346.38,-205.7 294.65,-191.73 253,-175 252.9,-174.96 252.8,-174.92 252.7,-174.88"/>
<polygon fill="black" stroke="black" points="253.99,-171.62 243.44,-170.62 251.06,-177.98 253.99,-171.62"/>
</g>
<!-- e -->
<g id="node5" class="node">
<title>e</title>
<ellipse fill="none" stroke="black" cx="271" cy="-164" rx="11" ry="11"/>
<text text-anchor="middle" x="271" y="-160.3" font-family="Times,serif" font-size="14.00">e</text>
</g>
<!-- ?&#45;&gt;e -->
<g id="edge3" class="edge">
<title>?&#45;&gt;e</title>
<path fill="none" stroke="black" d="M369.13,-210.1C352.42,-203.4 317.56,-189.08 289,-175 288.91,-174.95 288.82,-174.91 288.72,-174.86"/>
<polygon fill="black" stroke="black" points="290.54,-171.86 280.06,-170.26 287.25,-178.05 290.54,-171.86"/>
</g>
<!-- g -->
<g id="node6" class="node">
<title>g</title>
<ellipse fill="none" stroke="black" cx="307" cy="-164" rx="11" ry="11"/>
<text text-anchor="middle" x="307" y="-160.3" font-family="Times,serif" font-size="14.00">g</text>
</g>
<!-- ?&#45;&gt;g -->
<g id="edge4" class="edge">
<title>?&#45;&gt;g</title>
<path fill="none" stroke="black" d="M370.17,-207.99C358.84,-200.28 338.91,-186.71 324.46,-176.88"/>
<polygon fill="black" stroke="black" points="326.14,-173.79 315.9,-171.06 322.2,-179.58 326.14,-173.79"/>
</g>
<!-- k -->
<g id="node7" class="node">
<title>k</title>
<ellipse fill="none" stroke="black" cx="343" cy="-164" rx="11" ry="11"/>
<text text-anchor="middle" x="343" y="-160.3" font-family="Times,serif" font-size="14.00">k</text>
</g>
<!-- ?&#45;&gt;k -->
<g id="edge5" class="edge">
<title>?&#45;&gt;k</title>
<path fill="none" stroke="black" d="M372.73,-205.46C367.93,-198.93 361.16,-189.71 355.29,-181.72"/>
<polygon fill="black" stroke="black" points="357.94,-179.42 349.2,-173.44 352.3,-183.57 357.94,-179.42"/>
</g>
<!-- l -->
<g id="node8" class="node">
<title>l</title>
<ellipse fill="none" stroke="black" cx="379" cy="-164" rx="11" ry="11"/>
<text text-anchor="middle" x="379" y="-160.3" font-family="Times,serif" font-size="14.00">l</text>
</g>
<!-- ?&#45;&gt;l -->
<g id="edge6" class="edge">
<title>?&#45;&gt;l</title>
<path fill="none" stroke="black" d="M379,-203.61C379,-198.21 379,-191.42 379,-185.05"/>
<polygon fill="black" stroke="black" points="382.5,-185.04 379,-175.04 375.5,-185.04 382.5,-185.04"/>
</g>
<!-- n -->
<g id="node9" class="node">
<title>n</title>
<ellipse fill="none" stroke="black" cx="415" cy="-164" rx="11" ry="11"/>
<text text-anchor="middle" x="415" y="-160.3" font-family="Times,serif" font-size="14.00">n</text>
</g>
<!-- ?&#45;&gt;n -->
<g id="edge7" class="edge">
<title>?&#45;&gt;n</title>
<path fill="none" stroke="black" d="M385.27,-205.46C390.07,-198.93 396.84,-189.71 402.71,-181.72"/>
<polygon fill="black" stroke="black" points="405.7,-183.57 408.8,-173.44 400.06,-179.42 405.7,-183.57"/>
</g>
<!-- s -->
<g id="node10" class="node">
<title>s</title>
<ellipse fill="none" stroke="black" cx="451" cy="-164" rx="11" ry="11"/>
<text text-anchor="middle" x="451" y="-160.3" font-family="Times,serif" font-size="14.00">s</text>
</g>
<!-- ?&#45;&gt;s -->
<g id="edge8" class="edge">
<title>?&#45;&gt;s</title>
<path fill="none" stroke="black" d="M387.83,-207.99C399.16,-200.28 419.09,-186.71 433.54,-176.88"/>
<polygon fill="black" stroke="black" points="435.8,-179.58 442.1,-171.06 431.86,-173.79 435.8,-179.58"/>
</g>
<!-- t -->
<g id="node11" class="node">
<title>t</title>
<ellipse fill="none" stroke="black" cx="487" cy="-164" rx="11" ry="11"/>
<text text-anchor="middle" x="487" y="-160.3" font-family="Times,serif" font-size="14.00">t</text>
</g>
<!-- ?&#45;&gt;t -->
<g id="edge9" class="edge">
<title>?&#45;&gt;t</title>
<path fill="none" stroke="black" d="M388.87,-210.1C405.58,-203.4 440.44,-189.08 469,-175 469.09,-174.95 469.18,-174.91 469.28,-174.86"/>
<polygon fill="black" stroke="black" points="470.75,-178.05 477.94,-170.26 467.46,-171.86 470.75,-178.05"/>
</g>
<!-- u -->
<g id="node12" class="node">
<title>u</title>
<ellipse fill="none" stroke="black" cx="523" cy="-164" rx="11" ry="11"/>
<text text-anchor="middle" x="523" y="-160.3" font-family="Times,serif" font-size="14.00">u</text>
</g>
<!-- ?&#45;&gt;u -->
<g id="edge10" class="edge">
<title>?&#45;&gt;u</title>
<path fill="none" stroke="black" d="M389.72,-211.48C411.79,-206.12 463.72,-192.63 505,-175 505.09,-174.96 505.19,-174.92 505.28,-174.88"/>
<polygon fill="black" stroke="black" points="506.68,-178.09 514.03,-170.46 503.52,-171.85 506.68,-178.09"/>
</g>
<!-- w -->
<g id="node16" class="node">
<title>w</title>
<ellipse fill="none" stroke="black" cx="233" cy="-113" rx="11" ry="11"/>
<text text-anchor="middle" x="233" y="-109.3" font-family="Times,serif" font-size="14.00">w</text>
</g>
<!-- a2&#45;&gt;w -->
<g id="edge14" class="edge">
<title>a2&#45;&gt;w</title>
<path fill="none" stroke="black" d="M233,-152.61C233,-147.21 233,-140.42 233,-134.05"/>
<polygon fill="black" stroke="black" points="236.5,-134.04 233,-124.04 229.5,-134.04 236.5,-134.04"/>
</g>
<!-- c -->
<g id="node17" class="node">
<title>c</title>
<ellipse fill="none" stroke="black" cx="35" cy="-62" rx="11" ry="11"/>
<text text-anchor="middle" x="35" y="-58.3" font-family="Times,serif" font-size="14.00">c</text>
</g>
<!-- m&#45;&gt;c -->
<g id="edge21" class="edge">
<title>m&#45;&gt;c</title>
<path fill="none" stroke="black" d="M188.08,-106.4C185.26,-104.8 182.07,-103.18 179,-102 125.36,-81.4 106.64,-93.6 53,-73 52.9,-72.96 52.81,-72.93 52.71,-72.89"/>
<polygon fill="black" stroke="black" points="54.44,-69.84 43.92,-68.6 51.37,-76.13 54.44,-69.84"/>
</g>
<!-- d -->
<g id="node22" class="node">
<title>d</title>
<ellipse fill="none" stroke="black" cx="71" cy="-62" rx="11" ry="11"/>
<text text-anchor="middle" x="71" y="-58.3" font-family="Times,serif" font-size="14.00">d</text>
</g>
<!-- m&#45;&gt;d -->
<g id="edge22" class="edge">
<title>m&#45;&gt;d</title>
<path fill="none" stroke="black" d="M188.02,-106.56C185.19,-104.97 182.02,-103.31 179,-102 140.45,-85.27 127.55,-89.73 89,-73 88.91,-72.96 88.81,-72.92 88.72,-72.88"/>
<polygon fill="black" stroke="black" points="90.48,-69.85 79.98,-68.44 87.31,-76.09 90.48,-69.85"/>
</g>
<!-- f2 -->
<g id="node24" class="node">
<title>f2</title>
<ellipse fill="none" stroke="black" cx="107" cy="-62" rx="11" ry="11"/>
<text text-anchor="middle" x="107" y="-58.3" font-family="Times,serif" font-size="14.00">f2</text>
</g>
<!-- m&#45;&gt;f2 -->
<g id="edge23" class="edge">
<title>m&#45;&gt;f2</title>
<path fill="none" stroke="black" d="M187.49,-106.68C184.75,-105.16 181.76,-103.51 179,-102 157.43,-90.22 150.28,-86.72 125.3,-73.11"/>
<polygon fill="black" stroke="black" points="126.97,-70.04 116.51,-68.32 123.61,-76.18 126.97,-70.04"/>
</g>
<!-- h -->
<g id="node25" class="node">
<title>h</title>
<ellipse fill="none" stroke="black" cx="143" cy="-62" rx="11" ry="11"/>
<text text-anchor="middle" x="143" y="-58.3" font-family="Times,serif" font-size="14.00">h</text>
</g>
<!-- m&#45;&gt;h -->
<g id="edge24" class="edge">
<title>m&#45;&gt;h</title>
<path fill="none" stroke="black" d="M189.03,-104.77C180.96,-97.45 168.28,-85.94 158.27,-76.86"/>
<polygon fill="black" stroke="black" points="160.41,-74.07 150.65,-69.94 155.7,-79.25 160.41,-74.07"/>
</g>
<!-- j -->
<g id="node26" class="node">
<title>j</title>
<ellipse fill="none" stroke="black" cx="179" cy="-62" rx="11" ry="11"/>
<text text-anchor="middle" x="179" y="-58.3" font-family="Times,serif" font-size="14.00">j</text>
</g>
<!-- m&#45;&gt;j -->
<g id="edge25" class="edge">
<title>m&#45;&gt;j</title>
<path fill="none" stroke="black" d="M193.53,-102.55C191.42,-96.8 188.64,-89.23 186.08,-82.26"/>
<polygon fill="black" stroke="black" points="189.32,-80.93 182.58,-72.75 182.75,-83.35 189.32,-80.93"/>
</g>
<!-- o -->
<g id="node28" class="node">
<title>o</title>
<ellipse fill="none" stroke="black" cx="215" cy="-62" rx="11" ry="11"/>
<text text-anchor="middle" x="215" y="-58.3" font-family="Times,serif" font-size="14.00">o</text>
</g>
<!-- m&#45;&gt;o -->
<g id="edge26" class="edge">
<title>m&#45;&gt;o</title>
<path fill="none" stroke="black" d="M200.47,-102.55C202.58,-96.8 205.36,-89.23 207.92,-82.26"/>
<polygon fill="black" stroke="black" points="211.25,-83.35 211.42,-72.75 204.68,-80.93 211.25,-83.35"/>
</g>
<!-- p -->
<g id="node29" class="node">
<title>p</title>
<ellipse fill="none" stroke="black" cx="251" cy="-62" rx="11" ry="11"/>
<text text-anchor="middle" x="251" y="-58.3" font-family="Times,serif" font-size="14.00">p</text>
</g>
<!-- m&#45;&gt;p -->
<g id="edge27" class="edge">
<title>m&#45;&gt;p</title>
<path fill="none" stroke="black" d="M204.97,-104.77C213.04,-97.45 225.72,-85.94 235.73,-76.86"/>
<polygon fill="black" stroke="black" points="238.3,-79.25 243.35,-69.94 233.59,-74.07 238.3,-79.25"/>
</g>
<!-- q -->
<g id="node30" class="node">
<title>q</title>
<ellipse fill="none" stroke="black" cx="287" cy="-62" rx="11" ry="11"/>
<text text-anchor="middle" x="287" y="-58.3" font-family="Times,serif" font-size="14.00">q</text>
</g>
<!-- m&#45;&gt;q -->
<g id="edge28" class="edge">
<title>m&#45;&gt;q</title>
<path fill="none" stroke="black" d="M206.51,-106.68C209.25,-105.16 212.24,-103.51 215,-102 236.57,-90.22 243.72,-86.72 268.7,-73.11"/>
<polygon fill="black" stroke="black" points="270.39,-76.18 277.49,-68.32 267.03,-70.04 270.39,-76.18"/>
</g>
<!-- r -->
<g id="node31" class="node">
<title>r</title>
<ellipse fill="none" stroke="black" cx="323" cy="-62" rx="11" ry="11"/>
<text text-anchor="middle" x="323" y="-58.3" font-family="Times,serif" font-size="14.00">r</text>
</g>
<!-- m&#45;&gt;r -->
<g id="edge29" class="edge">
<title>m&#45;&gt;r</title>
<path fill="none" stroke="black" d="M205.98,-106.56C208.81,-104.97 211.98,-103.31 215,-102 253.55,-85.27 266.45,-89.73 305,-73 305.09,-72.96 305.19,-72.92 305.28,-72.88"/>
<polygon fill="black" stroke="black" points="306.69,-76.09 314.02,-68.44 303.52,-69.85 306.69,-76.09"/>
</g>
<!-- v2 -->
<g id="node32" class="node">
<title>v2</title>
<ellipse fill="none" stroke="black" cx="361" cy="-62" rx="12.5" ry="11"/>
<text text-anchor="middle" x="361" y="-58.3" font-family="Times,serif" font-size="14.00">v2</text>
</g>
<!-- m&#45;&gt;v2 -->
<g id="edge30" class="edge">
<title>m&#45;&gt;v2</title>
<path fill="none" stroke="black" d="M205.92,-106.4C208.74,-104.8 211.93,-103.18 215,-102 268.64,-81.4 286.92,-92.43 341,-73 341.1,-72.96 341.2,-72.93 341.3,-72.89"/>
<polygon fill="black" stroke="black" points="342.89,-76.02 350.62,-68.78 340.06,-69.61 342.89,-76.02"/>
</g>
<!-- f -->
<g id="node18" class="node">
<title>f</title>
<ellipse fill="none" stroke="black" cx="11" cy="-11" rx="11" ry="11"/>
<text text-anchor="middle" x="11" y="-7.3" font-family="Times,serif" font-size="14.00">f</text>
</g>
<!-- c&#45;&gt;f -->
<g id="edge15" class="edge">
<title>c&#45;&gt;f</title>
<path fill="none" stroke="black" d="M30.37,-51.55C27.41,-45.51 23.48,-37.47 19.93,-30.23"/>
<polygon fill="black" stroke="black" points="22.99,-28.53 15.45,-21.09 16.71,-31.61 22.99,-28.53"/>
</g>
<!-- v3 -->
<g id="node19" class="node">
<title>v3</title>
<ellipse fill="none" stroke="black" cx="49" cy="-11" rx="12.5" ry="11"/>
<text text-anchor="middle" x="49" y="-7.3" font-family="Times,serif" font-size="14.00">v3</text>
</g>
<!-- c&#45;&gt;v3 -->
<g id="edge16" class="edge">
<title>c&#45;&gt;v3</title>
<path fill="none" stroke="black" d="M37.83,-51.08C39.43,-45.51 41.47,-38.34 43.38,-31.67"/>
<polygon fill="black" stroke="black" points="46.79,-32.48 46.17,-21.9 40.06,-30.55 46.79,-32.48"/>
</g>
<!-- c2 -->
<g id="node20" class="node">
<title>c2</title>
<ellipse fill="none" stroke="black" cx="143" cy="-11" rx="12.5" ry="11"/>
<text text-anchor="middle" x="143" y="-7.3" font-family="Times,serif" font-size="14.00">c2</text>
</g>
<!-- c3 -->
<g id="node21" class="node">
<title>c3</title>
<ellipse fill="none" stroke="black" cx="104" cy="-11" rx="12.5" ry="11"/>
<text text-anchor="middle" x="104" y="-7.3" font-family="Times,serif" font-size="14.00">c3</text>
</g>
<!-- d2 -->
<g id="node23" class="node">
<title>d2</title>
<ellipse fill="none" stroke="black" cx="183" cy="-11" rx="13" ry="11"/>
<text text-anchor="middle" x="183" y="-7.3" font-family="Times,serif" font-size="14.00">d2</text>
</g>
<!-- f2&#45;&gt;c3 -->
<g id="edge17" class="edge">
<title>f2&#45;&gt;c3</title>
<path fill="none" stroke="black" d="M106.36,-50.61C106.03,-45.21 105.62,-38.42 105.23,-32.05"/>
<polygon fill="black" stroke="black" points="108.72,-31.81 104.61,-22.04 101.73,-32.24 108.72,-31.81"/>
</g>
<!-- j&#45;&gt;c2 -->
<g id="edge18" class="edge">
<title>j&#45;&gt;c2</title>
<path fill="none" stroke="black" d="M172.73,-52.46C167.99,-46.01 161.32,-36.94 155.5,-29.02"/>
<polygon fill="black" stroke="black" points="158.18,-26.75 149.44,-20.77 152.54,-30.9 158.18,-26.75"/>
</g>
<!-- j&#45;&gt;d2 -->
<g id="edge19" class="edge">
<title>j&#45;&gt;d2</title>
<path fill="none" stroke="black" d="M179.85,-50.61C180.29,-45.21 180.84,-38.42 181.36,-32.05"/>
<polygon fill="black" stroke="black" points="184.85,-32.29 182.18,-22.04 177.88,-31.72 184.85,-32.29"/>
</g>
<!-- v -->
<g id="node27" class="node">
<title>v</title>
<ellipse fill="none" stroke="black" cx="221" cy="-11" rx="11" ry="11"/>
<text text-anchor="middle" x="221" y="-7.3" font-family="Times,serif" font-size="14.00">v</text>
</g>
<!-- j&#45;&gt;v -->
<g id="edge20" class="edge">
<title>j&#45;&gt;v</title>
<path fill="none" stroke="black" d="M185.94,-52.91C191.81,-46.06 200.39,-36.04 207.6,-27.63"/>
<polygon fill="black" stroke="black" points="210.34,-29.81 214.19,-19.94 205.03,-25.26 210.34,-29.81"/>
</g>
</g>
</svg>
</div>
<p>In a first step every reading (labez and clique) gets assigned a bitmask:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>labez | clique |                               mask
------+--------+-----------------------------------------------------------------
?     |        | 0000000000000000000000000000000000000000000000000000000000000001
a     | 1      | 0000000000000000000000000000000000000000000000000000000000000010
a     | 2      | 0000000000000000000000000000000000000000000000000000000000000100
b     | 1      | 0000000000000000000000000000000000000000000000000000000000001000
c     | 1      | 0000000000000000000000000000000000000000000000000000000000010000
c     | 2      | 0000000000000000000000000000000000000000000000000000000000100000
c     | 3      | 0000000000000000000000000000000000000000000000000000000001000000
d     | 1      | 0000000000000000000000000000000000000000000000000000000010000000
d     | 2      | 0000000000000000000000000000000000000000000000000000000100000000
e     | 1      | 0000000000000000000000000000000000000000000000000000001000000000
f     | 1      | 0000000000000000000000000000000000000000000000000000010000000000
f     | 2      | 0000000000000000000000000000000000000000000000000000100000000000
g     | 1      | 0000000000000000000000000000000000000000000000000001000000000000
h     | 1      | 0000000000000000000000000000000000000000000000000010000000000000
i     | 1      | 0000000000000000000000000000000000000000000000000100000000000000
j     | 1      | 0000000000000000000000000000000000000000000000001000000000000000
k     | 1      | 0000000000000000000000000000000000000000000000010000000000000000
l     | 1      | 0000000000000000000000000000000000000000000000100000000000000000
m     | 1      | 0000000000000000000000000000000000000000000001000000000000000000
n     | 1      | 0000000000000000000000000000000000000000000010000000000000000000
o     | 1      | 0000000000000000000000000000000000000000000100000000000000000000
p     | 1      | 0000000000000000000000000000000000000000001000000000000000000000
q     | 1      | 0000000000000000000000000000000000000000010000000000000000000000
r     | 1      | 0000000000000000000000000000000000000000100000000000000000000000
s     | 1      | 0000000000000000000000000000000000000001000000000000000000000000
t     | 1      | 0000000000000000000000000000000000000010000000000000000000000000
u     | 1      | 0000000000000000000000000000000000000100000000000000000000000000
v     | 1      | 0000000000000000000000000000000000001000000000000000000000000000
v     | 2      | 0000000000000000000000000000000000010000000000000000000000000000
v     | 3      | 0000000000000000000000000000000000100000000000000000000000000000
w     | 1      | 0000000000000000000000000000000001000000000000000000000000000000
</pre></div>
</div>
<p>Note that we have an extra bitmask for ‘?’.  This allows quick testing for
unknown origin.</p>
<p>In the second step we build the ancestor bitmasks.</p>
<p>Reading ‘f’ has prior readings ‘c’, ‘m’, and ‘a’.  Thus the ancestor bitmask
for reading ‘f’ is the bitwise_or of the masks for ‘c’, ‘m’, and ‘a’:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>labez | clique |                               mask
------+--------+-----------------------------------------------------------------
c     | 1      | 0000000000000000000000000000000000000000000000000000000000010000
m     | 1      | 0000000000000000000000000000000000000000000001000000000000000000
a     | 1      | 0000000000000000000000000000000000000000000000000000000000000010

labez | clique |                            ancestor mask
------+--------+-----------------------------------------------------------------
f     | 1      | 0000000000000000000000000000000000000000000001000000000000010010
</pre></div>
</div>
<p>Another example: Reading ‘w’ has prior readings ‘a2’, ‘a2’ is of unknown
origin. The ancestor mask for ‘w’ is the bitwise_or of the masks for ‘a2’ and ‘?’:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>labez | clique |                               mask
------+--------+-----------------------------------------------------------------
a     | 2      | 0000000000000000000000000000000000000000000000000000000000000100
?     |        | 0000000000000000000000000000000000000000000000000000000000000001

labez | clique |                            ancestor mask
------+--------+-----------------------------------------------------------------
w     | 1      | 0000000000000000000000000000000000000000000000000000000000000101
</pre></div>
</div>
<p>After building the masks for every reading at every passage we put the masks
into 2 matrices of dimension (mss x passages), the mask_matrix and the
ancestor_matrix.  The mask_matrix contains the mask for the reading the
manuscript offers, the ancestor_matrix contains the ancestor mask for that reading.</p>
<p>Manuscript 1457 (ms_id == 156) (at pass_id == 3240) reads ‘c’, so the
mask_matrix contains:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mask_matrix</span><span class="p">[</span><span class="mi">156</span><span class="p">,</span><span class="mi">3240</span><span class="p">]</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;0000000000000000000000000000000000000000000000000000000000010000&#39;</span>
</pre></div>
</div>
<p>Manuscript 706 (ms_id == 102) (at pass_id == 3240) reads ‘f’, so the
ancestor_matrix contains:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ancestor_matrix</span><span class="p">[</span><span class="mi">102</span><span class="p">,</span><span class="mi">3240</span><span class="p">]</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;0000000000000000000000000000000000000000000001000000000000010010&#39;</span>
</pre></div>
</div>
<p>To test for ancestrality between mss. 1457 and 706 we do a bitwise_and of the
mask_matrix of 1457 and the ancestor_matrix of 706. If the result is non-zero then
1457 is ancestral to 706.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">is_ancestral</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bitwise_and</span> <span class="p">(</span><span class="n">mask_matrix</span><span class="p">[</span><span class="mi">156</span><span class="p">,</span><span class="mi">3240</span><span class="p">],</span> <span class="n">ancestor_matrix</span><span class="p">[</span><span class="mi">102</span><span class="p">,</span><span class="mi">3240</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>
</div>
<p>But that would be very slow.  Numpy allows to operate on whole matrix rows
at a time so we can calculate the ancestrality for all passages with a
single call to numpy.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">is_ancestral</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bitwise_and</span> <span class="p">(</span><span class="n">mask_matrix</span><span class="p">[</span><span class="mi">156</span><span class="p">],</span> <span class="n">ancestor_matrix</span><span class="p">[</span><span class="mi">102</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>
</div>
<p>is_ancestral is an array of booleans.  We only have to count how many
elements of it are True to obtain the number of prior readings.</p>
<p>Reversing the role of the two manuscripts (mask_matrix and ancestor_matrix)
gives us the number of posterior readings.</p>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.cbgm_common.calculate_mss_similarity_preco">
<code class="sig-name descname">calculate_mss_similarity_preco</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">_dba</span></em>, <em class="sig-param"><span class="n">_parameters</span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.cbgm_common.calculate_mss_similarity_preco" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate pre-coherence mss similarity</p>
<p>The pre-coherence similarity is defined as:</p>
<div class="math notranslate nohighlight">
\[\mbox{similarity}=\frac{\mbox{equal passages}}{\mbox{passages in common}}\]</div>
<blockquote>
<div><p>Kapitelweise füllen auf Basis von Vergleichen einzelner
Variantenspektren in ECM_Acts_Sp.  Vergleich von je zwei Handschriften:
An wieviel Stellen haben sie gemeinsam Text, an wieviel Stellen stimmen
sie überein bzw. unterscheiden sie sich (inklusive Quotient)?  Die
Informationen werden sowohl auf Kapitel- wie auch Buchebene
festgehalten.</p>
<p class="attribution">—VGA/VG05_all3.pl</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.cbgm_common.count_by_range">
<code class="sig-name descname">count_by_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">range_starts</span></em>, <em class="sig-param"><span class="n">range_ends</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.cbgm_common.count_by_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Count true bits in array ranges</p>
<p>Count the bits that are true in multiple ranges of the same array of booleans.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>np.Array of np.bool:</em>) – Input array</p></li>
<li><p><strong>range_starts</strong> (<em>int</em><em>[</em><em>]</em>) – Starting offsets of the ranges to count.</p></li>
<li><p><strong>range_ends</strong> (<em>int</em><em>[</em><em>]</em>) – Ending offsets of the ranges to count.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.cbgm_common.create_labez_matrix">
<code class="sig-name descname">create_labez_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dba</span></em>, <em class="sig-param"><span class="n">parameters</span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.cbgm_common.create_labez_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the <code class="xref py py-attr docutils literal notranslate"><span class="pre">labez</span> <span class="pre">matrix</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.cbgm_common.write_affinity_table">
<code class="sig-name descname">write_affinity_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dba</span></em>, <em class="sig-param"><span class="n">parameters</span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.cbgm_common.write_affinity_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Write back the new affinity (and ms_ranges) tables.</p>
</dd></dl>

</div>
<div class="section" id="module-ntg_common.config">
<span id="ntg-common-config"></span><h2>ntg_common.config<a class="headerlink" href="#module-ntg_common.config" title="Permalink to this headline">¶</a></h2>
<p>The commandline and configuration stuff.</p>
<dl class="py class">
<dt id="ntg_common.config.Formatter">
<em class="property">class </em><code class="sig-name descname">Formatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fmt</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">datefmt</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">style</span><span class="o">=</span><span class="default_value">'%'</span></em>, <em class="sig-param"><span class="n">validate</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.config.Formatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Logging formatter. Allows colorful formatting of log lines.</p>
<dl class="py method">
<dt id="ntg_common.config.Formatter.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.config.Formatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the specified record as text.</p>
<p>The record’s attribute dictionary is used as the operand to a
string formatting operation which yields the returned string.
Before formatting the dictionary, a couple of preparatory steps
are carried out. The message attribute of the record is computed
using LogRecord.getMessage(). If the formatting string uses the
time (as determined by a call to usesTime(), formatTime() is
called to format the event time. If there is exception information,
it is formatted using formatException() and appended to the message.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt id="ntg_common.config.args">
<code class="sig-name descname">args</code><em class="property"> = &lt;ntg_common.config.Args object&gt;</em><a class="headerlink" href="#ntg_common.config.args" title="Permalink to this definition">¶</a></dt>
<dd><p>Globally accessible arguments from command line.</p>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.config.config_from_pyfile">
<code class="sig-name descname">config_from_pyfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.config.config_from_pyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Emulate the Flask config file parser.</p>
<p>Emulate the Flask config file parser so we can use the same config files for
the server and the commandline script.</p>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.config.init_logging">
<code class="sig-name descname">init_logging</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">handlers</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.config.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Init the logging stuff.</p>
</dd></dl>

</div>
<div class="section" id="module-ntg_common.db_tools">
<span id="ntg-common-db-tools"></span><h2>ntg_common.db_tools<a class="headerlink" href="#module-ntg_common.db_tools" title="Permalink to this headline">¶</a></h2>
<p>This module contains functions for database access.</p>
<dl class="py class">
<dt id="ntg_common.db_tools.MySQLEngine">
<em class="property">class </em><code class="sig-name descname">MySQLEngine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span><span class="o">=</span><span class="default_value">'/etc/my.cnf', '/etc/mysql/my.cnf', '~/.my.cnf'</span></em>, <em class="sig-param"><span class="n">group</span><span class="o">=</span><span class="default_value">'mysql', 'client', 'client-server', 'client-mariadb'</span></em>, <em class="sig-param"><span class="n">db</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.MySQLEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>Database Interface</p>
</dd></dl>

<dl class="py class">
<dt id="ntg_common.db_tools.PostgreSQLEngine">
<em class="property">class </em><code class="sig-name descname">PostgreSQLEngine</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.PostgreSQLEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>PostgreSQL Database Interface</p>
<dl class="py method">
<dt id="ntg_common.db_tools.PostgreSQLEngine.get_connection_params">
<code class="sig-name descname">get_connection_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.PostgreSQLEngine.get_connection_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sqlalchemy connection parameters.</p>
<p>Try to get the connection parameters in turn from these sources:</p>
<ol class="arabic simple">
<li><p>get host, port, database, user from args</p></li>
<li><p>get PGHOST, PGPORT, PGDATABASE, PGUSER from args</p></li>
<li><p>get PGHOST, PGPORT, PGDATABASE, PGUSER from environment</p></li>
<li><p>use defaults</p></li>
</ol>
<p>N.B. The postgres client library automatically reads the password from
the file <code class="file docutils literal notranslate"><span class="pre">~/.pgpass</span></code>.  It should be configured there.</p>
</dd></dl>

<dl class="py method">
<dt id="ntg_common.db_tools.PostgreSQLEngine.receive_checkout">
<em class="property">static </em><code class="sig-name descname">receive_checkout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dbapi_connection</span></em>, <em class="sig-param"><span class="n">_connection_record</span></em>, <em class="sig-param"><span class="n">_connection_proxy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.PostgreSQLEngine.receive_checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a default for the postgres variable ntg.user_id that is used by
<a class="reference internal" href="database.html#tts"><span class="std std-ref">Transaction-Time State Tables</span></a> tables.</p>
</dd></dl>

<dl class="py method">
<dt id="ntg_common.db_tools.PostgreSQLEngine.vacuum">
<code class="sig-name descname">vacuum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.PostgreSQLEngine.vacuum" title="Permalink to this definition">¶</a></dt>
<dd><p>Vacuum the database.</p>
</dd></dl>

<dl class="py method">
<dt id="ntg_common.db_tools.PostgreSQLEngine.wait_for_server">
<code class="sig-name descname">wait_for_server</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">retries</span><span class="o">=</span><span class="default_value">60</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.PostgreSQLEngine.wait_for_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the Postgres server to come up.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ntg_common.db_tools.fix">
<code class="sig-name descname">fix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">conn</span></em>, <em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="n">check_sql</span></em>, <em class="sig-param"><span class="n">fix_sql</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.fix" title="Permalink to this definition">¶</a></dt>
<dd><p>Check and eventually fix errors.</p>
<p>Executes the check_sql statement to check for a possible error conditions
and, if rows emerge, prints a warning and executes the fix_sql statement.
The fix_sql statement should be written as to fix the errors reported by the
check_sql statement.  Finally it executes the check_sql statement again and
reports an error if the error condition still exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<em>str</em>) – The warning / error message</p></li>
<li><p><strong>check_sql</strong> (<em>str</em>) – The sql statement that checks for the error condition.</p></li>
<li><p><strong>fix_sql</strong> (<em>str</em>) – The sql statement that fixes the error condition.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.db_tools.init_default_cliques">
<code class="sig-name descname">init_default_cliques</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.init_default_cliques" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a default cliques table.</p>
<p>In a default cliques table there is a default clique ‘1’ for every reading
in the readings table.</p>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.db_tools.init_default_locstem">
<code class="sig-name descname">init_default_locstem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.init_default_locstem" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a default locstem table.</p>
<p>In a default LocStemEd, labez ‘a’ is the original reading and every other
reading depends on labez ‘a’, except in a Fehlvers, where ‘b’ is of unknown
origin and every other reading depends on ‘b’.</p>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.db_tools.init_default_ms_cliques">
<code class="sig-name descname">init_default_ms_cliques</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">conn</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.init_default_ms_cliques" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a default ms_cliques table.</p>
<p>In a default ms_cliques table there is a default clique ‘1’ for every reading
in the apparatus table.</p>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.db_tools.local_stemma_to_nx">
<code class="sig-name descname">local_stemma_to_nx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">conn</span></em>, <em class="sig-param"><span class="n">pass_id</span></em>, <em class="sig-param"><span class="n">add_isolated_roots</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.local_stemma_to_nx" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a passage from the database into an nx Graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>add_isolated_roots</strong> (<em>bool</em>) – Add an ‘*’ or ‘?’ node even if they are
isolated.  Needed in edit mode.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.db_tools.tabulate">
<code class="sig-name descname">tabulate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">res</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.db_tools.tabulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Format and output a rowset</p>
<p>Uses an output format similar to the one produced by the mysql commandline
utility.</p>
</dd></dl>

</div>
<div class="section" id="module-ntg_common.exceptions">
<span id="ntg-common-exceptions"></span><h2>ntg_common.exceptions<a class="headerlink" href="#module-ntg_common.exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="ntg_common.exceptions.EditError">
<em class="property">exception </em><code class="sig-name descname">EditError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">status_code</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">payload</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.exceptions.EditError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="ntg_common.exceptions.EditException">
<em class="property">exception </em><code class="sig-name descname">EditException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">status_code</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">payload</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.exceptions.EditException" title="Permalink to this definition">¶</a></dt>
<dd><p>See: <a class="reference external" href="http://flask.pocoo.org/docs/0.12/patterns/apierrors/">http://flask.pocoo.org/docs/0.12/patterns/apierrors/</a></p>
</dd></dl>

<dl class="py exception">
<dt id="ntg_common.exceptions.PrivilegeError">
<em class="property">exception </em><code class="sig-name descname">PrivilegeError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">status_code</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">payload</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.exceptions.PrivilegeError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ntg_common.tools">
<span id="ntg-common-tools"></span><h2>ntg_common.tools<a class="headerlink" href="#module-ntg_common.tools" title="Permalink to this headline">¶</a></h2>
<p>This module contains some useful functions.</p>
<dl class="py data">
<dt id="ntg_common.tools.BOOKS">
<code class="sig-name descname">BOOKS</code><em class="property"> = [(1, 'Mt', 'Matthew', 28), (2, 'Mc', 'Mark', 16), (3, 'L', 'Luke', 24), (4, 'J', 'John', 21), (5, 'Acts', 'Acts', 28), (6, 'R', 'Romans', 16), (7, '1K', '1 Corinthians', 16), (8, '2K', '2 Corinthians', 13), (9, 'G', 'Galatians', 6), (10, 'E', 'Ephesians', 6), (11, 'Ph', 'Philippians', 4), (12, 'Kol', 'Colossians', 4), (13, '1Th', '1 Thessalonians', 5), (14, '2Th', '2 Thessalonians', 3), (15, '1T', '1 Timothy', 6), (16, '2T', '2 Timothy', 4), (17, 'Tt', 'Titus', 3), (18, 'Phm', 'Philemon', 1), (19, 'H', 'Hebrews', 13), (20, 'Jc', 'James', 5), (21, '1P', '1 Peter', 5), (22, '2P', '2 Peter', 3), (23, '1J', '1 John', 5), (24, '2J', '2 John', 1), (25, '3J', '3 John', 1), (26, 'Jd', 'Jude', 1), (27, 'Ap', 'Revelation', 22), (210, '2Sam', '2 Samuel', 2)]</em><a class="headerlink" href="#ntg_common.tools.BOOKS" title="Permalink to this definition">¶</a></dt>
<dd><p>Titles of the NT books</p>
</dd></dl>

<dl class="py data">
<dt id="ntg_common.tools.BYZ_HSNR">
<code class="sig-name descname">BYZ_HSNR</code><em class="property"> = {'2 Samuel': None, 'Acts': '(300010, 300180, 300350, 303300, 303980, 304240, 312410)', 'CL': '(300010, 300180, 300350, 303300, 303980, 304240, 312410)', 'John': '(200070, 200280, 200450, 300180, 300350, 302260, 313200)', 'Mark': '(300030, 300180, 300350, 301050, 302610, 303510, 326070)'}</em><a class="headerlink" href="#ntg_common.tools.BYZ_HSNR" title="Permalink to this definition">¶</a></dt>
<dd><p>Manuscripts attesting the Byzantine Text.</p>
<p>We use these manuscripts as templates to establish the Byzantine Text according
to our rules.</p>
</dd></dl>

<dl class="py data">
<dt id="ntg_common.tools.FEHLVERSE">
<code class="sig-name descname">FEHLVERSE</code><em class="property"> = '\n    (\n      begadr &gt;= 20716000 and endadr &lt;= 20716999 or\n      begadr &gt;= 20944000 and endadr &lt;= 20944999 or\n      begadr &gt;= 20946000 and endadr &lt;= 20946999 or\n      begadr &gt;= 21126000 and endadr &lt;= 21126999 or\n      begadr &gt;= 21528000 and endadr &lt;= 21528999 or\n      begadr &gt;= 21609000 and endadr &lt;= 21620999 or\n      begadr &gt;= 21608068 and endadr &lt;= 21620999 or\n\n      begadr &gt;= 50837002 and endadr &lt;= 50837047 or\n      begadr &gt;= 51534002 and endadr &lt;= 51534013 or\n      begadr &gt;= 52406020 and endadr &lt;= 52408015 or\n      begadr &gt;= 52829002 and endadr &lt;= 52829025\n    )\n    '</em><a class="headerlink" href="#ntg_common.tools.FEHLVERSE" title="Permalink to this definition">¶</a></dt>
<dd><p>Verses added in later times.</p>
<p>These verses were added to the NT in later times. Because they are not original
they are not included in the text of manuscript ‘A’.</p>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.tools.graphviz_layout">
<code class="sig-name descname">graphviz_layout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dot</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'dot'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.tools.graphviz_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the GraphViz dot program to generate an image but mostly to precompute
the graph layout.</p>
</dd></dl>

<dl class="py function">
<dt id="ntg_common.tools.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">level</span></em>, <em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">aargs</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">_kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ntg_common.tools.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Low level log function</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="vm.html" class="btn btn-neutral float-right" title="ntg.uni-muenster.de" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="database_faq.html" class="btn btn-neutral float-left" title="Database FAQ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-20 CCeH - Licensed under the GNU GPL v3 or later

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>