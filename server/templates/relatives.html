<div>

  <div class="relatives-caption">
    <span>{{caption}}</span>
    <span class="ms">W1: </span>
    <span class="fg_labez" data-labez="{{ms.labez}}"><span class="ms hilite-source" data-ms-id="{{ms.ms_id}}">{{ms.hs}}</span> (<span class="labez">{{ms.labez}}</span>) {{ms.length}}</span>
  </div>

  <div class="relatives-metrics">
    {% if ms.hs != 'MT' %}
    <span class="mt fg_labez" data-labez="{{mt.labez}}"><span class="ms hilite-target" data-ms-id="2">MT </span>({{mt.labez}})</span>
    •
    <span
        title="The percentage of majority readings at passages where the manuscript is extant and MT is defined."
        >{{'MT {:.2%}'.format (mt.mt)}}</span>
    •
    <span
        title="The percentage of majority readings at passages where the manuscript is extant."
        >{{'MT/P {:.2%}'.format (mt.mtp)}}</span>
    •
    {% endif %}
    <span
        title="The average agreement with all witnesses included."
        >{{'AA {:.2%}'.format (ms.aa)}}</span>
    •
    <span
        title="The median agreement with all witnesses included."
        >{{'MA {:.2%}'.format (ms.ma)}}</span>
  </div>

  <table class="relatives table table-condensed">
    <tr>
      <th class="ms"
          title="Witness 2: Witnesses compared to W1"
          >W2</th>
      <th class="rank"
          title="Ancestral rank according to the degree of agreement (Perc)"
          >NR</th>
      <th class="direction"
          title="Genealogical direction, potential ancestors indicated by “>”"
          >D</th>
      <th class="labez"
          title="The reading offered by W2"
          >Rdg</th>
      <!--
      <th class="length"
          title="The number of variant passages attested by W2"
          >Len</th>
      -->
      <th class="perc"
          title="Percentaged agreement of W1 and W2 at the variant passages attested by both (Pass)"
          >Perc</th>
      <th class="equal"
          title="Number of agreements of W1 and W2 at the variant passages attested by both (Pass)"
          >Eq</th>
      <th class="common"
          title="Total number of passages where W1 and W2 are both extant"
          >Pass</th>
      <th class="older"
          title="Number of variants in W2 that are prior to those in W1"
          >W1&lt;W2</th>
      <th class="newer"
          title="Number of variants in W1 that are prior to those in W2"
          >W1&gt;W2</th>
      <th class="unclear"
          title="Number of variants where no decision has been made about priority"
          >Uncl</th>
      <th class="norel"
          title="Number of passages where the respective variants are unrelated"
          >NoRel</th>
    </tr>
    {% for r in rows %}
    <tr data-labez="{{r.labez}}" class="fg_labez comparison{% if loop.first %} first{% endif %}"
        data-ms1-id="{{ms.ms_id}}" data-ms2-id="{{r.ms_id}}">
      <th class="ms"><span class="ms hilite-target" data-ms-id="{{r.ms_id}}">{{r.hs|e}}</span></th>
      <td class="rank">{{(r.rank or '')}}</td>
      <td class="direction">{{r.direction|e}}</td>
      <td class="labez">({{r.labez}})</td>
      <!--
          <td class="length">{{r.length}}</td>
      -->
      <td class="perc">{{ '{0:0.2f}'.format (100.0 * r.equal / r.common) }}%</td>
      <td class="equal">{{r.equal}}</td>
      <td class="common">{{r.common}}</td>
      <td class="older">{{r.newer}}</td>
      <td class="newer">{{r.older}}</td>
      <td class="unclear">{{r.unclear}}</td>
      <td class="norel">{{r.norel}}</td>
    </tr>
    {% endfor %}
  </table>

</div>
